(()=>{"use strict";var e={532:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.CommandRelay=void 0;const n=i(549);t.CommandRelay=class{constructor(){this.keyEmitter=new n.EventEmitter,this.zenModeEmitter=new n.EventEmitter,this.searchBindingsEmitter=new n.EventEmitter}triggerKey(e){"string"==typeof e&&(e={key:e}),this.keyEmitter.fire(e)}get onDidKeyPressed(){return this.keyEmitter.event}toggleZenMode(){this.zenModeEmitter.fire()}get onDidToggleZenMode(){return this.zenModeEmitter.event}searchBindings(){this.searchBindingsEmitter.fire()}get onDidSearchBindings(){return this.searchBindingsEmitter.event}dispose(){this.keyEmitter.dispose(),this.zenModeEmitter.dispose(),this.searchBindingsEmitter.dispose()}}},148:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toCommands=t.toBindingItem=void 0,t.toBindingItem=function(e){if("object"==typeof e){const t=e;if(t.key&&t.name&&t.type)return t}},t.toCommands=function(e){let t,i;return e.commands?(t=e.commands,i=e.args):e.command?(t=[e.command],i=[e.args]):(t=[],i=[]),{commands:t,args:i}}},385:(e,t)=>{function i(e){if(e&&e.length>0){const t=e.split(";").reduce(((e,t)=>{const[i,n]=t.split(":");return e[i]=n,e}),{});if("when"in t||"languageId"in t)return{when:t.when,languageId:t.languageId}}}function n(e,t){if(e&&t){let i=!0;return i=i&&e.when===t.when,i=i&&e.languageId===t.languageId,i}return e===t}Object.defineProperty(t,"__esModule",{value:!0}),t.isConditionKeyEqual=t.isConditionEqual=t.evalCondition=t.getCondition=void 0,t.getCondition=i,t.evalCondition=function(e,t){if(t&&e){let i=!0;return e.when&&(i=i&&e.when===t.when),e.languageId&&(i=i&&e.languageId===t.languageId),i}return e===t},t.isConditionEqual=n,t.isConditionKeyEqual=function(e,t){return n(i(e),i(t))}},729:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.resolveMaybeConfig=void 0;const n=i(593);t.resolveMaybeConfig=function(e){return"string"==typeof e?n.getConfig(e):e}},360:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultWhichKeyConfig=t.toWhichKeyConfig=void 0;const n=i(601);function s(e){return"string"==typeof e}function o(e){return e&&Array.isArray(e)&&2===e.length&&s(e[0])&&s(e[1])}function r(e){return`${e[0]}.${e[1]}`}t.toWhichKeyConfig=function(e){if("object"==typeof e&&(e.bindings&&o(e.bindings)&&(e.bindings=r(e.bindings)),e.overrides&&o(e.overrides)&&(e.overrides=r(e.overrides)),(t=e).bindings&&s(t.bindings)&&(!t.overrides||s(t.overrides))&&(!t.title||s(t.title))))return e;var t},t.defaultWhichKeyConfig={bindings:n.Configs.Bindings,overrides:n.Configs.Overrides}},601:(e,t)=>{var i,n,s,o;Object.defineProperty(t,"__esModule",{value:!0}),t.Commands=t.Configs=t.ContextKey=t.SortOrder=t.CommandKey=t.ConfigKey=t.contributePrefix=t.publisherId=t.extensionId=void 0,t.extensionId="vscode-which-key",t.publisherId="VSpaceCode",t.contributePrefix="whichkey",function(e){e.Delay="delay",e.ShowIcons="showIcons",e.SortOrder="sortOrder",e.Bindings="bindings",e.Overrides="bindingOverrides"}(i=t.ConfigKey||(t.ConfigKey={})),function(e){e.Show="show",e.Register="register",e.Trigger="triggerKey",e.SearchBindings="searchBindings",e.ShowTransient="showTransient",e.RepeatRecent="repeatRecent",e.RepeatMostRecent="repeatMostRecent",e.ToggleZenMode="toggleZenMode",e.OpenFile="openFile"}(n=t.CommandKey||(t.CommandKey={})),(o=t.SortOrder||(t.SortOrder={})).None="none",o.Alphabetically="alphabetically",o.NonNumberFirst="nonNumberFirst",(s=t.ContextKey||(t.ContextKey={})).Active="whichkeyActive",s.Visible="whichkeyVisible",s.TransientVisible="transientVisible",t.Configs={Delay:`${t.contributePrefix}.${i.Delay}`,ShowIcons:`${t.contributePrefix}.${i.ShowIcons}`,SortOrder:`${t.contributePrefix}.${i.SortOrder}`,Bindings:`${t.contributePrefix}.${i.Bindings}`,Overrides:`${t.contributePrefix}.${i.Overrides}`},t.Commands={Show:`${t.contributePrefix}.${n.Show}`,Register:`${t.contributePrefix}.${n.Register}`,Trigger:`${t.contributePrefix}.${n.Trigger}`,SearchBindings:`${t.contributePrefix}.${n.SearchBindings}`,ShowTransient:`${t.contributePrefix}.${n.ShowTransient}`,RepeatRecent:`${t.contributePrefix}.${n.RepeatRecent}`,RepeatMostRecent:`${t.contributePrefix}.${n.RepeatMostRecent}`,ToggleZen:`${t.contributePrefix}.${n.ToggleZenMode}`,OpenFile:`${t.contributePrefix}.${n.OpenFile}`}},583:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMenu=void 0;const n=i(549),s=i(412);t.BaseMenu=class{constructor(){this.title=void 0,this.placeholder=void 0,this.matchOnDetail=!1,this.matchOnDescription=!1,this.value="",this.items=[],this.quickPick=n.window.createQuickPick(),this.disposables=[this.quickPick.onDidAccept(this.onDidAccept,this),this.quickPick.onDidHide(this.onDidHide,this)],this.onDidChangeValueDisposable=this.quickPick.onDidChangeValue(this.onDidChangeValue,this),this.isHiding=!1}setValue(e){return new Promise((t=>{if(this.quickPick.value!==e){const i=s.Version.parse(n.version);if(i.major>=1&&i.minor>=57){this.onDidChangeValueDisposable.dispose();const i=this.quickPick.onDidChangeValue((()=>{this.onDidChangeValueDisposable=this.quickPick.onDidChangeValue(this.onDidChangeValue,this),i.dispose(),t()}));this.quickPick.value=e}else this.quickPick.value=e,t()}else t()}))}async onDidAccept(){if(this.quickPick.activeItems.length>0){const e=this.quickPick.activeItems[0];await this.accept(e)}}async accept(e){try{await this.setValue(""),this.quickPick.placeholder=void 0,this.quickPick.title=void 0,this.quickPick.items=[],await this.handleAcceptance(e)}catch(e){this.reject(e)}}async onDidHide(){this.isHiding||this.resolve(),await this.onVisibilityChange(!1)}onDidChangeValue(e){return Promise.resolve()}onVisibilityChange(e){return Promise.resolve()}resolve(){this.dispose(),this.onDidResolve&&this.onDidResolve()}reject(e){this.dispose(),this.onDidReject&&this.onDidReject(e)}async update(){this.quickPick.title=this.title,this.quickPick.placeholder=this.placeholder,this.quickPick.matchOnDetail=this.matchOnDetail,this.quickPick.matchOnDescription=this.matchOnDescription,await this.setValue(this.value),this.quickPick.items=this.items}async show(){await this.onVisibilityChange(!0),await this.update(),this.quickPick.show()}hide(){return new Promise((e=>{this.isHiding=!0;const t=this.quickPick.onDidHide((()=>{this.isHiding=!1,t.dispose(),e()}));this.quickPick.hide()}))}dispose(){for(const e of this.disposables)e.dispose();this.onDidChangeValueDisposable.dispose(),this.quickPick.dispose()}}},661:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaseWhichKeyMenu=void 0;const n=i(549),s=i(583);class o extends s.BaseMenu{constructor(e){super(),this.disposables.push(e.onDidKeyPressed(this.onDidKeyPressed,this))}get condition(){var e;const t=null===(e=n.window.activeTextEditor)||void 0===e?void 0:e.document.languageId;return{when:this.when,languageId:t}}async onDidKeyPressed(e){await this.setValue(this.quickPick.value+e.key),await this.onDidChangeValue(this.quickPick.value,e.when)}async onDidChangeValue(e,t){this.when=t;const i=this.items.find((t=>t.key===e));this.items.find((t=>e.startsWith(t.key)))?i&&await this.accept(i):await this.onItemNotMatch(e)}}t.BaseWhichKeyMenu=o},56:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showDescBindMenu=void 0;const n=i(593),s=i(583);class o extends s.BaseMenu{async handleAcceptance(e){e.commands&&(await this.hide(),await n.executeCommands(e.commands,e.args)),e.items?(this.placeholder=e.description,this.items=e.items,await this.show()):this.resolve()}}t.showDescBindMenu=function(e,t){return new Promise(((i,n)=>{const s=new o;s.matchOnDescription=!0,s.matchOnDetail=!0,s.items=e,s.title=t,s.onDidResolve=i,s.onDidReject=n,s.show()}))}},383:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createDescBindItems=void 0;const n=i(148),s=i(385),o=i(593);function r(e){return e.filter((e=>!s.getCondition(e.key))).map((e=>o.specializeBindingKey(e.key))).join(" ")}function a(e){return e.map((e=>e.name)).join("$(chevron-right)")}function c(e,t=[]){const i=t.concat(e),s={label:r(i),detail:a(t),description:e.name};if(e.bindings)s.items=h(e.bindings,i);else if(e.commands||e.command){const{commands:t,args:i}=n.toCommands(e);s.commands=t,s.args=i}return s}function h(e,t=[]){const i=[],n=[];for(const s of e){const e=c(s,t=t.filter((e=>e.bindings)));i.push(e),e.items&&n.push(...e.items)}return i.push(...n),i}t.createDescBindItems=h},441:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showRepeaterMenu=void 0;const n=i(661);class s extends n.BaseWhichKeyMenu{constructor(e,t){super(t),this.statusBar=e}async onItemNotMatch(e){await this.hide(),this.statusBar.setErrorMessage(`${e} is undefined`),this.resolve()}async handleAcceptance(e){this.statusBar.hide(),await this.hide(),await e.accept(),this.resolve()}}t.showRepeaterMenu=function(e,t,i,n){return new Promise(((o,r)=>{const a=new s(e,t);a.title=n,a.items=i,a.onDidResolve=o,a.onDidReject=r,a.show()}))}},544:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showTransientMenu=void 0;const n=i(148),s=i(729),o=i(601),r=i(593),a=i(661),c=i(883);class h extends a.BaseWhichKeyMenu{constructor(e,t){super(t),this.disposables.push(t.onDidToggleZenMode(this.toggleZenMode,this)),this.statusBar=e,this.isInZenMode=!1}async onItemNotMatch(e){this.value="",this.update(),this.statusBar.setErrorMessage(`${r.specializeBindingKey(e)} is undefined`)}onVisibilityChange(e){return r.setContext(o.ContextKey.TransientVisible,e)}async handleAcceptance(e){await this.hide();const{commands:t,args:i}=n.toCommands(e);await r.executeCommands(t,i),!0===e.exit?this.resolve():await this.show()}async update(){this.quickPick.matchOnDetail=this.matchOnDetail,this.quickPick.placeholder=this.placeholder,this.quickPick.matchOnDescription=this.matchOnDescription,await this.setValue(this.value),this.isInZenMode||(this.quickPick.title=this.title,this.quickPick.items=this.items)}exitZenMode(){this.quickPick.items=this.items,this.quickPick.title=this.title,this.isInZenMode=!1}enterZenMode(){this.quickPick.items=[],this.quickPick.title="",this.isInZenMode=!0}toggleZenMode(){this.isInZenMode?this.exitZenMode():this.enterZenMode()}}t.showTransientMenu=function(e,t,i){return new Promise(((n,a)=>{var d,u,l;const m=new h(e,t),g=s.resolveMaybeConfig(i),p=null===(u=null!==(d=null==g?void 0:g.showIcons)&&void 0!==d?d:r.getConfig(o.Configs.ShowIcons))||void 0===u||u;m.title=null==g?void 0:g.title,m.items=null!==(l=null==g?void 0:g.bindings.map((e=>new c.TransientMenuItem(e,p))))&&void 0!==l?l:[],m.onDidResolve=n,m.onDidReject=a,m.show()}))}},883:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TransientMenuItem=void 0,t.TransientMenuItem=class{constructor(e,t){this._binding=e,this.showIcons=t}get key(){return this._binding.key}get name(){return this._binding.name}get icon(){return this._binding.icon}get command(){return this._binding.command}get commands(){return this._binding.commands}get args(){return this._binding.args}get exit(){return this._binding.exit}get label(){return this._binding.key}get description(){return`\t${this.showIcons&&this.icon&&this.icon.length>0?`$(${this.icon})   `:""}${this._binding.name}`}}},42:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.showWhichKeyMenu=void 0;const n=i(549),s=i(148),o=i(601),r=i(593),a=i(661),c=i(395),h=i(383),d=i(56);class u extends a.BaseWhichKeyMenu{constructor(e,t,i,n=0){super(t),this.disposables.push(t.onDidSearchBindings(this.onDidSearchBindings,this)),this.statusBar=e,this.repeater=i,this.delay=n,this.itemHistory=[]}onDidSearchBindings(){const e=h.createDescBindItems(this.items,this.itemHistory);return d.showDescBindMenu(e,"Search Keybindings")}async onItemNotMatch(e){await this.hide();const t=this.toHistoricalKeysString(e);this.statusBar.setErrorMessage(`${t} is undefined`),this.resolve()}toHistoricalKeysString(e){let t=this.itemHistory.map((e=>e.key));return e&&(t=t.concat(e)),t.map(r.specializeBindingKey).join(" ")}async onDidHide(){this.clearDelay(),await super.onDidHide()}onVisibilityChange(e){return r.setContext(o.ContextKey.Visible,e)}async handleAcceptance(e){var t;this.itemHistory.push(e),this.statusBar.hide(),this.clearDelay();const i=e.evalCondition(this.condition);if(!i)return this.statusBar.setErrorMessage("No condition matched"),void this.resolve();if(i.commands||i.command){await this.hide();const{commands:e,args:n}=s.toCommands(i);await r.executeCommands(e,n),null===(t=this.repeater)||void 0===t||t.record(this.itemHistory)}i.bindings?(this.statusBar.setPlainMessage(this.toHistoricalKeysString()+"-",0),this.items=i.bindings,this.title=e.name,await this.show()):this.resolve()}clearDelay(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=void 0)}async update(){this.quickPick.placeholder=this.placeholder,this.quickPick.matchOnDetail=this.matchOnDetail,this.quickPick.matchOnDescription=this.matchOnDescription,await this.setValue(this.value),this.delay>0?(this.quickPick.busy=!0,this.timeoutId=setTimeout((()=>{this.clearDelay(),this.quickPick.busy=!1,this.quickPick.title=this.title,this.quickPick.items=this.items}).bind(this),this.delay)):(this.quickPick.title=this.title,this.quickPick.items=this.items)}dispose(){this.clearDelay(),this.statusBar.hidePlain(),super.dispose()}}t.showWhichKeyMenu=async function(e,t,i,s){const a=new u(e,t,i,s.delay);a.items=s.bindings.map((e=>new c.WhichKeyMenuItem(e,s.showIcons))),a.title=s.title,async function(e){try{await new Promise(((t,i)=>{e.onDidResolve=t,e.onDidReject=i}))}catch(e){n.window.showErrorMessage(e.toString())}finally{await Promise.all([r.setContext(o.ContextKey.Active,!1),r.setContext(o.ContextKey.Visible,!1)])}}(a),await Promise.all([r.setContext(o.ContextKey.Active,!0),a.show()])}},395:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WhichKeyMenuItem=void 0;const n=i(385),s=i(593);class o{constructor(e,t){this._binding=e,this.showIcons=t}get key(){return this._binding.key}get name(){return this._binding.name}get icon(){return this._binding.icon}get type(){return this._binding.type}get command(){return this._binding.command}get commands(){return this._binding.commands}get args(){return this._binding.args}get bindings(){return this._binding.bindings&&!this._cacheItems&&(this._cacheItems=this._binding.bindings.map((e=>new o(e,this.showIcons)))),this._cacheItems}get label(){return s.specializeBindingKey(this.key)}get description(){return`\t${this.showIcons&&this.icon&&this.icon.length>0?`$(${this.icon})   `:""}${this._binding.name}`}evalCondition(e){var t;let i=this;for(;i&&"conditional"===i.type;)i=null!==(t=i.findBinding(e))&&void 0!==t?t:i.findBinding(void 0);return i}findBinding(e){var t;return null===(t=this.bindings)||void 0===t?void 0:t.find((t=>n.evalCondition(n.getCondition(t.key),e)))}}t.WhichKeyMenuItem=o},158:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.StatusBar=void 0;const n=i(549);class s{constructor(){this._item=n.window.createStatusBarItem(),this._timeout=s.DEFAULT_TIMEOUT}get timeout(){return this._timeout}set timeout(e){this._timeout=e}_setMessage(e,t,i){this.clearTimeout(),this._item.color=t,this._item.text=e,this.show(i)}clearTimeout(){this._timerId&&(clearTimeout(this._timerId),this._timerId=void 0)}setPlainMessage(e,t){this._setMessage(e,void 0,t)}setErrorMessage(e,t){this._setMessage(e,s.ERROR_COLOR,t)}show(e){const t=null!=e?e:this._timeout;this._item.show(),t>0&&(this._timerId=setTimeout(this.hide.bind(this),t))}hide(){this.clearTimeout(),this._item.hide()}hidePlain(){this._item.color!==s.ERROR_COLOR&&this.hide()}hideError(){this._item.color===s.ERROR_COLOR&&this.hide()}dispose(){this.clearTimeout(),this._item.dispose()}}t.StatusBar=s,s.DEFAULT_TIMEOUT=3e3,s.ERROR_COLOR=new n.ThemeColor("errorForeground")},593:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.specializeBindingKey=t.toFullWidthKey=t.getConfig=t.executeCommands=t.executeCommand=t.setContext=void 0;const n=i(549);function s(e,t){if(Array.isArray(t)){const i=t;return n.commands.executeCommand(e,...i)}return t?n.commands.executeCommand(e,t):n.commands.executeCommand(e)}t.setContext=function(e,t){return n.commands.executeCommand("setContext",e,t)},t.executeCommand=s,t.executeCommands=async function(e,t){for(let i=0;i<e.length;i++){const n=e[i],o=null==t?void 0:t[i];await s(n,o)}},t.getConfig=function(e){let t,i=e;const s=e.lastIndexOf(".");return-1!==s&&(t=e.substring(0,s),i=e.substring(s+1)),n.workspace.getConfiguration(t).get(i)},t.toFullWidthKey=function(e){let t="";for(const i of e){const n=i.codePointAt(0);1===e.length&&n&&n>=33&&n<=126?t+=String.fromCodePoint(n+65248):t+=32===n?"␣":9===n?"↹":i}return t},t.specializeBindingKey=function(e){let t="";for(const i of e){const e=i.codePointAt(0);t+=32===e?"␣":9===e?"↹":i}return t}},412:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ComparisonResult=t.Version=void 0;class i{constructor(e,t,i){this._major=e,this._minor=t,this._patch=i}get major(){return this._major}get minor(){return this._minor}get patch(){return this._patch}compare(e){return this._major>e._major?n.Newer:this._major<e._major?n.Older:this._minor>e._minor?n.Newer:this._minor<e._minor?n.Older:this._patch>e._patch?n.Newer:this._patch<e._patch?n.Older:n.Same}static compare(e,t){return"string"==typeof e&&(e=this.parse(e)),"string"==typeof t&&(t=this.parse(t)),e.compare(t)}static parse(e){const[t,n,s]=e.split(".").map((e=>parseInt(e,10)));return new i(t,n,s)}}var n;t.Version=i,function(e){e[e.Older=-1]="Older",e[e.Same=0]="Same",e[e.Newer=1]="Newer"}(n=t.ComparisonResult||(t.ComparisonResult={}))},315:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0});const n=i(549),s=i(148),o=i(385),r=i(601),a=i(42),c=i(593),h=i(499);function d(e,t,i=!1){var n,s;return i?null!==(n=null==e?void 0:e.findIndex((e=>o.isConditionKeyEqual(e.key,t))))&&void 0!==n?n:-1:null!==(s=null==e?void 0:e.findIndex((e=>e.key===t)))&&void 0!==s?s:-1}function u(e,t){var i;let n=e,s=!1;for(let e=0;e<t.length-1;e++){const o=t[e],r=d(n,o,s);if(-1===r){console.warn(`Key ${o} of ${t.toString()} not found`);break}s="conditional"===(null==n?void 0:n[r].type),n=null===(i=null==n?void 0:n[r])||void 0===i?void 0:i.bindings}return{bindingItems:n,isCondition:s}}function l(e,t){if(void 0!==t.name&&void 0!==t.type)return{key:e,name:t.name,icon:t.icon,type:t.type,command:t.command,commands:t.commands,args:t.args,bindings:t.bindings};throw new Error("name or type of the override is undefined")}function m(e,t){if(e&&t!==r.SortOrder.None){t===r.SortOrder.Alphabetically?e.sort(((e,t)=>e.key.localeCompare(t.key))):t===r.SortOrder.NonNumberFirst&&e.sort(((e,t)=>{const i=/^[0-9]/,n=i.test(e.key);return n!==i.test(t.key)?n?1:-1:e.key.localeCompare(t.key)}));for(const i of e)m(i.bindings,t)}}function g(e){const t=[];if(e.bindings)for(const i of e.bindings)"command"===i.type||"commands"===i.type?t.push({key:i.key,name:i.name,icon:i.icon,...s.toCommands(i)}):"bindings"===i.type?t.push({key:i.key,name:i.name,icon:i.icon,command:r.Commands.Show,args:i.bindings,exit:!0}):"transient"===i.type?t.push({key:i.key,name:i.name,icon:i.icon,command:r.Commands.ShowTransient,args:{title:e.name,bindings:g(e)},exit:!0}):console.error(`Type ${i.type} is not supported in convertToTransientBinding`);return t}function p(e){if("transient"===e.type){const{commands:t,args:i}=s.toCommands(e);return t.push(r.Commands.ShowTransient),i[t.length-1]={title:e.name,bindings:g(e)},{key:e.key,name:e.name,icon:e.icon,type:"commands",commands:t,args:i}}return e}function y(e){const t=[];for(let i of e)i=p(i),i.bindings&&(i.bindings=y(i.bindings)),t.push(i);return t}function f(e){var t,i,n;const s=null!==(t=c.getConfig(e.bindings))&&void 0!==t?t:[];return e.overrides&&function(e,t){for(const i of t)try{const t="string"==typeof i.keys?i.keys.split("."):i.keys,{bindingItems:n,isCondition:s}=u(e,t);if(void 0!==n){const e=t[t.length-1],o=d(n,e,s);if(void 0===i.position){const t=l(e,i);-1!==o?n.splice(o,1,t):n.push(t)}else if(i.position<0)-1!==o&&n.splice(o,1);else{-1!==o&&n.splice(o,1);const t=l(e,i);n.splice(i.position,0,t)}}}catch(e){console.error(e)}}(s,null!==(i=c.getConfig(e.overrides))&&void 0!==i?i:[]),m(s,null!==(n=c.getConfig(r.Configs.SortOrder))&&void 0!==n?n:r.SortOrder.None),y(s)}t.default=class{constructor(e,t){this.statusBar=e,this.cmdRelay=t,this.repeater=new h.WhichKeyRepeater(e,t)}register(e){this.unregister(),this.config=e,this.bindingItems=f(e),this.onConfigChangeListener=n.workspace.onDidChangeConfiguration((t=>{(t.affectsConfiguration(r.Configs.SortOrder)||t.affectsConfiguration(e.bindings)||e.overrides&&t.affectsConfiguration(e.overrides))&&this.register(e)}),this)}unregister(){var e;null===(e=this.onConfigChangeListener)||void 0===e||e.dispose(),this.repeater.clear()}show(){var e,t,i;const n=null!==(e=c.getConfig(r.Configs.Delay))&&void 0!==e?e:0,s=null===(t=c.getConfig(r.Configs.ShowIcons))||void 0===t||t,o={bindings:this.bindingItems,delay:n,showIcons:s,title:null===(i=this.config)||void 0===i?void 0:i.title};return a.showWhichKeyMenu(this.statusBar,this.cmdRelay,this.repeater,o)}showPreviousActions(){return this.repeater.show()}repeatLastAction(){return this.repeater.repeatLastAction()}static show(e,t,i){var n,s;const o={bindings:e,delay:null!==(n=c.getConfig(r.Configs.Delay))&&void 0!==n?n:0,showIcons:null===(s=c.getConfig(r.Configs.ShowIcons))||void 0===s||s};return a.showWhichKeyMenu(t,i,void 0,o)}}},115:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WhichKeyRegistry=void 0;const n=i(148),s=i(315),o=i(360);function r(e){return null!=e}t.WhichKeyRegistry=class{constructor(e,t){this.statusBar=e,this.cmdRelay=t,this.registry={}}register(e){const t=o.toWhichKeyConfig(e);if(t){const e=t.bindings;return this.has(e)||(this.registry[e]=new s.default(this.statusBar,this.cmdRelay)),this.registry[e].register(t),!0}return console.warn("Incorrect which-key config format."),!1}has(e){return e in this.registry}show(e){if("string"==typeof e)return this.registry[e].show();if(Array.isArray(e)&&e.length>0){const t=e.map(n.toBindingItem).filter(r);return s.default.show(t,this.statusBar,this.cmdRelay)}{const e=o.defaultWhichKeyConfig.bindings;return this.has(e)||this.register(o.defaultWhichKeyConfig),this.registry[e].show()}}repeatRecent(e){return this.getRegister(e).showPreviousActions()}repeatMostRecent(e){return this.getRegister(e).repeatLastAction()}getRegister(e){if("string"==typeof e)return this.registry[e];{const e=o.defaultWhichKeyConfig.bindings;return this.has(e)||this.register(o.defaultWhichKeyConfig),this.registry[e]}}unregister(e){this.has(e)&&this.registry[e].unregister()}dispose(){for(const e of Object.keys(this.register))this.registry[e].unregister()}}},499:(e,t,i)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.WhichKeyRepeater=void 0;const n=i(148),s=i(601),o=i(441),r=i(593);class a{constructor(e){this.path=[...e]}get pathKey(){return this.path.map((e=>e.key)).toString()}get item(){return this.path[this.path.length-1]}get uiPath(){return this.path.slice(0,-1).map((e=>e.name)).join("$(chevron-right)")}get shouldIgnore(){return 0===this.path.length||function(e){const t=n.toCommands(e).commands,i=[s.Commands.RepeatRecent,s.Commands.RepeatMostRecent];return t.findIndex(i.includes.bind(i))>=0}(this.item)}}class c{constructor(e,t){this.statusBar=e,this.cmdRelay=t,this.cache=[]}get isEmpty(){return 0===this.cache.length}get length(){return this.cache.length}record(e){const t=new a(e);if(t.shouldIgnore)return;const i=t.pathKey,n=this.cache.findIndex((e=>e.pathKey===i));n>=0&&this.cache.splice(n,1),this.cache.unshift(t),this.cache.length>c.MaxSize&&this.cache.pop()}async repeatLastAction(e=0){if(!this.isEmpty&&e>=0&&e<this.length){const t=this.cache.splice(e,1)[0],{commands:i,args:s}=n.toCommands(t.item);await r.executeCommands(i,s),this.cache.unshift(t)}else this.statusBar.setErrorMessage("No last action")}repeatAction(e){const t=this.cache.findIndex((t=>t.pathKey===e));return this.repeatLastAction(t)}show(){return o.showRepeaterMenu(this.statusBar,this.cmdRelay,this.createMenuItems(),"Repeat previous actions")}clear(){this.cache.length=0}createMenuItems(){return this.cache.map(((e,t)=>{const i=t+1;return{key:i.toString(),name:e.item.name,label:i.toString(),description:e.item.name,detail:e.uiPath,accept:this.repeatAction.bind(this,e.pathKey)}}))}}t.WhichKeyRepeater=c,c.MaxSize=9},549:e=>{e.exports=require("vscode")}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}var n={};(()=>{var e=n;Object.defineProperty(e,"__esModule",{value:!0}),e.activate=void 0;const t=i(549),s=i(532),o=i(601),r=i(544),a=i(158),c=i(115);async function h(){try{await t.commands.executeCommand("workbench.action.files.openFile")}catch(e){await t.commands.executeCommand("workbench.action.files.openFileFolder")}}e.activate=function(e){const i=new a.StatusBar,n=new s.CommandRelay,d=new c.WhichKeyRegistry(i,n);e.subscriptions.push(t.commands.registerCommand(o.Commands.Trigger,n.triggerKey,n),t.commands.registerCommand(o.Commands.Register,d.register,d),t.commands.registerCommand(o.Commands.Show,d.show,d),t.commands.registerCommand(o.Commands.SearchBindings,n.searchBindings,n),t.commands.registerCommand(o.Commands.ShowTransient,r.showTransientMenu.bind(d,i,n)),t.commands.registerCommand(o.Commands.RepeatRecent,d.repeatRecent,d),t.commands.registerCommand(o.Commands.RepeatMostRecent,d.repeatMostRecent,d),t.commands.registerCommand(o.Commands.ToggleZen,n.toggleZenMode,n),t.commands.registerCommand(o.Commands.OpenFile,h)),e.subscriptions.push(d,n,i)}})(),module.exports=n})();
//# sourceMappingURL=extension.js.map